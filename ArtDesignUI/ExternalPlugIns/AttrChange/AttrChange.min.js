(function(d){function b(){var f=document.createElement("p");var e=false;if(f.addEventListener){f.addEventListener("DOMAttrModified",function(){e=true},false)}else{if(f.attachEvent){f.attachEvent("onDOMAttrModified",function(){e=true})}else{return false}}f.setAttribute("id","target");return e}function a(g,i){if(g){var f=this.data("attr-old-value");if(i.attributeName.indexOf("style")>=0){if(!f.style){f.style={}}var h=i.attributeName.split(".");i.attributeName=h[0];i.oldValue=f.style[h[1]];i.newValue=h[1]+":"+this.prop("style")[d.camelCase(h[1])];f.style[h[1]]=i.newValue}else{i.oldValue=f[i.attributeName];i.newValue=this.attr(i.attributeName);f[i.attributeName]=i.newValue}this.data("attr-old-value",f)}}var c=window.MutationObserver||window.WebKitMutationObserver;d.fn.attrchange=function(g,e){if(typeof g=="object"){var f={trackValues:false,callback:d.noop};if(typeof g==="function"){f.callback=g}else{d.extend(f,g)}if(f.trackValues){this.each(function(o,p){var m={};for(var j,o=0,n=p.attributes,k=n.length;o<k;o++){j=n.item(o);m[j.nodeName]=j.value}d(this).data("attr-old-value",m)})}if(c){var i={subtree:false,attributes:true,attributeOldValue:f.trackValues};var h=new c(function(j){j.forEach(function(k){var l=k.target;if(f.trackValues){k.newValue=d(l).attr(k.attributeName)}if(d(l).data("attrchange-status")==="connected"){f.callback.call(l,k)}})});return this.data("attrchange-method","Mutation Observer").data("attrchange-status","connected").data("attrchange-obs",h).each(function(){h.observe(this,i)})}else{if(b()){return this.data("attrchange-method","DOMAttrModified").data("attrchange-status","connected").on("DOMAttrModified",function(j){if(j.originalEvent){j=j.originalEvent}j.attributeName=j.attrName;j.oldValue=j.prevValue;if(d(this).data("attrchange-status")==="connected"){f.callback.call(this,j)}})}else{if("onpropertychange" in document.body){return this.data("attrchange-method","propertychange").data("attrchange-status","connected").on("propertychange",function(j){j.attributeName=window.event.propertyName;a.call(d(this),f.trackValues,j);if(d(this).data("attrchange-status")==="connected"){f.callback.call(this,j)}})}}}return this}else{if(typeof g=="string"&&d.fn.attrchange.hasOwnProperty("extensions")&&d.fn.attrchange.extensions.hasOwnProperty(g)){return d.fn.attrchange.extensions[g].call(this,e)}}}})(jQuery);